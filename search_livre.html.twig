{% extends 'admin_base.html.twig' %}

{% block titre %}
	Résultat de la recherche
{% endblock %}

{% block contenu %}

	<div class="table-section">
	<div class="search-result-header">
		<h1 class="search-title">Résultat de la recherche</h1>
		{% if mot is defined %}
			<div class="search-count">
				Recherche pour :
				<span class="search-keyword">"{{ mot }}"</span>
			</div>
		{% endif %}
	</div>

	{% if livres is empty %}
		<p class="search-empty">Aucun livre ne correspond à votre recherche.</p>
	{% else %}

		<p class="search-count">
			{{ livres|length }} livre(s) trouvé(s)
		</p>

		<div class="books-grid">

			{% for livre in livres %}
				<div class="book-card">

					<div class="book-genres">
						{% for genre in livre.genres %}
							<span class="genre-badge">
								{{ genre.nom }}
							</span>
						{% endfor %}
					</div>

					<h3 class="book-title">
						{{ livre.titre }}
					</h3>

					<p class="book-authors">
						{% for auteur in livre.auteurs %}
							{{ auteur.nomPrenom }}
							{% if not loop.last %},
							{% endif %}
						{% endfor %}
					</p>

					{# Actions #}
					<div class="book-footer">
						<span class="badge badge--green">
							Disponible
						</span>

						<a href="{{ path('details_livre', { id: livre.id }) }}" class="details-link">
							Détails
						</a>
					</div>

				</div>
			{% endfor %}

		</div>

	{% endif %}
	</div>

{% endblock %}
